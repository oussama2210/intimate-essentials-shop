const fs = require('fs');
const path = require('path');

// Existing data with Arabic names (copied from prompt/file view)
const currentWilayas = [
    { id: 1, name: 'أدرار', code: '01', deliveryBaseCost: 1200, homeDeliveryCost: 1200, officeDeliveryCost: 1200 },
    { id: 2, name: 'الشلف', code: '02', deliveryBaseCost: 600, homeDeliveryCost: 600, officeDeliveryCost: 400 },
    { id: 3, name: 'الأغواط', code: '03', deliveryBaseCost: 800, homeDeliveryCost: 800, officeDeliveryCost: 600 },
    { id: 4, name: 'أم البواقي', code: '04', deliveryBaseCost: 700, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 5, name: 'باتنة', code: '05', deliveryBaseCost: 750, homeDeliveryCost: 750, officeDeliveryCost: 500 },
    { id: 6, name: 'بجاية', code: '06', deliveryBaseCost: 650, homeDeliveryCost: 650, officeDeliveryCost: 450 },
    { id: 7, name: 'بسكرة', code: '07', deliveryBaseCost: 800, homeDeliveryCost: 800, officeDeliveryCost: 500 },
    { id: 8, name: 'بشار', code: '08', deliveryBaseCost: 1400, homeDeliveryCost: 1400, officeDeliveryCost: 1000 },
    { id: 9, name: 'البليدة', code: '09', deliveryBaseCost: 400, homeDeliveryCost: 500, officeDeliveryCost: 350 },
    { id: 10, name: 'البويرة', code: '10', deliveryBaseCost: 550, homeDeliveryCost: 600, officeDeliveryCost: 400 },
    { id: 11, name: 'تمنراست', code: '11', deliveryBaseCost: 2000, homeDeliveryCost: 2000, officeDeliveryCost: 1500 },
    { id: 12, name: 'تبسة', code: '12', deliveryBaseCost: 900, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 13, name: 'تلمسان', code: '13', deliveryBaseCost: 750, homeDeliveryCost: 750, officeDeliveryCost: 500 },
    { id: 14, name: 'تيارت', code: '14', deliveryBaseCost: 700, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 15, name: 'تيزي وزو', code: '15', deliveryBaseCost: 550, homeDeliveryCost: 600, officeDeliveryCost: 400 },
    { id: 16, name: 'الجزائر', code: '16', deliveryBaseCost: 300, homeDeliveryCost: 450, officeDeliveryCost: 300 },
    { id: 17, name: 'الجلفة', code: '17', deliveryBaseCost: 750, homeDeliveryCost: 800, officeDeliveryCost: 600 },
    { id: 18, name: 'جيجل', code: '18', deliveryBaseCost: 700, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 19, name: 'سطيف', code: '19', deliveryBaseCost: 650, homeDeliveryCost: 650, officeDeliveryCost: 450 },
    { id: 20, name: 'سعيدة', code: '20', deliveryBaseCost: 800, homeDeliveryCost: 800, officeDeliveryCost: 500 },
    { id: 21, name: 'سكيكدة', code: '21', deliveryBaseCost: 700, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 22, name: 'سيدي بلعباس', code: '22', deliveryBaseCost: 750, homeDeliveryCost: 750, officeDeliveryCost: 500 },
    { id: 23, name: 'عنابة', code: '23', deliveryBaseCost: 750, homeDeliveryCost: 750, officeDeliveryCost: 500 },
    { id: 24, name: 'قالمة', code: '24', deliveryBaseCost: 800, homeDeliveryCost: 800, officeDeliveryCost: 450 },
    { id: 25, name: 'قسنطينة', code: '25', deliveryBaseCost: 650, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 26, name: 'المدية', code: '26', deliveryBaseCost: 550, homeDeliveryCost: 600, officeDeliveryCost: 450 },
    { id: 27, name: 'مستغانم', code: '27', deliveryBaseCost: 650, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 28, name: 'المسيلة', code: '28', deliveryBaseCost: 700, homeDeliveryCost: 800, officeDeliveryCost: 450 },
    { id: 29, name: 'معسكر', code: '29', deliveryBaseCost: 700, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 30, name: 'ورقلة', code: '30', deliveryBaseCost: 1000, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 31, name: 'وهران', code: '31', deliveryBaseCost: 500, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 32, name: 'البيض', code: '32', deliveryBaseCost: 900, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 33, name: 'إليزي', code: '33', deliveryBaseCost: 2200, homeDeliveryCost: 1400, officeDeliveryCost: 1000 },
    { id: 34, name: 'برج بوعريريج', code: '34', deliveryBaseCost: 650, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 35, name: 'بومرداس', code: '35', deliveryBaseCost: 450, homeDeliveryCost: 650, officeDeliveryCost: 400 },
    { id: 36, name: 'الطارف', code: '36', deliveryBaseCost: 850, homeDeliveryCost: 800, officeDeliveryCost: 450 },
    { id: 37, name: 'تندوف', code: '37', deliveryBaseCost: 1800, homeDeliveryCost: 1200, officeDeliveryCost: 800 },
    { id: 38, name: 'تيسمسيلت', code: '38', deliveryBaseCost: 700, homeDeliveryCost: 800, officeDeliveryCost: 450 },
    { id: 39, name: 'الوادي', code: '39', deliveryBaseCost: 900, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 40, name: 'خنشلة', code: '40', deliveryBaseCost: 850, homeDeliveryCost: 800, officeDeliveryCost: 450 },
    { id: 41, name: 'سوق أهراس', code: '41', deliveryBaseCost: 850, homeDeliveryCost: 800, officeDeliveryCost: 450 },
    { id: 42, name: 'تيبازة', code: '42', deliveryBaseCost: 450, homeDeliveryCost: 500, officeDeliveryCost: 400 },
    { id: 43, name: 'ميلة', code: '43', deliveryBaseCost: 700, homeDeliveryCost: 600, officeDeliveryCost: 450 },
    { id: 44, name: 'عين الدفلى', code: '44', deliveryBaseCost: 600, homeDeliveryCost: 600, officeDeliveryCost: 450 },
    { id: 45, name: 'النعامة', code: '45', deliveryBaseCost: 1000, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 46, name: 'عين تموشنت', code: '46', deliveryBaseCost: 700, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 47, name: 'غرداية', code: '47', deliveryBaseCost: 900, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 48, name: 'غليزان', code: '48', deliveryBaseCost: 650, homeDeliveryCost: 700, officeDeliveryCost: 450 },
    { id: 49, name: 'تيميمون', code: '49', deliveryBaseCost: 1500, homeDeliveryCost: 1200, officeDeliveryCost: 900 },
    { id: 50, name: 'برج باجي مختار', code: '50', deliveryBaseCost: 1600, homeDeliveryCost: 1600, officeDeliveryCost: 1200 },
    { id: 51, name: 'أولاد جلال', code: '51', deliveryBaseCost: 850, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 52, name: 'بني عباس', code: '52', deliveryBaseCost: 1400, homeDeliveryCost: 1200, officeDeliveryCost: 800 },
    { id: 53, name: 'عين صالح', code: '53', deliveryBaseCost: 1800, homeDeliveryCost: 1200, officeDeliveryCost: 800 },
    { id: 54, name: 'عين قزام', code: '54', deliveryBaseCost: 2000, homeDeliveryCost: 2000, officeDeliveryCost: 1500 },
    { id: 55, name: 'تقرت', code: '55', deliveryBaseCost: 950, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 56, name: 'جانت', code: '56', deliveryBaseCost: 2100, homeDeliveryCost: 2100, officeDeliveryCost: 1600 },
    { id: 57, name: 'المغير', code: '57', deliveryBaseCost: 1000, homeDeliveryCost: 900, officeDeliveryCost: 600 },
    { id: 58, name: 'المنيعة', code: '58', deliveryBaseCost: 1200, homeDeliveryCost: 1200, officeDeliveryCost: 800 },
];

const updates = [
    { "code": 1, "nom": "Adrar", "stop_desk": 800, "domicile": 1200 },
    { "code": 2, "nom": "Chlef", "stop_desk": 450, "domicile": 700 },
    { "code": 3, "nom": "Laghouat", "stop_desk": 600, "domicile": 900 },
    { "code": 4, "nom": "Oum El Bouaghi", "stop_desk": 450, "domicile": 800 },
    { "code": 5, "nom": "Batna", "stop_desk": 450, "domicile": 800 },
    { "code": 6, "nom": "Béjaïa", "stop_desk": 450, "domicile": 700 },
    { "code": 7, "nom": "Biskra", "stop_desk": 600, "domicile": 900 },
    { "code": 8, "nom": "Béchar", "stop_desk": 800, "domicile": 1200 },
    { "code": 9, "nom": "Blida", "stop_desk": 450, "domicile": 600 },
    { "code": 10, "nom": "Bouira", "stop_desk": 450, "domicile": 700 },
    { "code": 11, "nom": "Tamanrasset", "stop_desk": 800, "domicile": 1200 },
    { "code": 12, "nom": "Tébessa", "stop_desk": 450, "domicile": 800 },
    { "code": 13, "nom": "Tlemcen", "stop_desk": 450, "domicile": 800 },
    { "code": 14, "nom": "Tiaret", "stop_desk": 450, "domicile": 800 },
    { "code": 15, "nom": "Tizi Ouzou", "stop_desk": 450, "domicile": 700 },
    { "code": 16, "nom": "Alger", "stop_desk": 300, "domicile": 500 },
    { "code": 17, "nom": "Djelfa", "stop_desk": 600, "domicile": 900 },
    { "code": 18, "nom": "Jijel", "stop_desk": 450, "domicile": 700 },
    { "code": 19, "nom": "Sétif", "stop_desk": 450, "domicile": 600 },
    { "code": 20, "nom": "Saïda", "stop_desk": 450, "domicile": 800 },
    { "code": 21, "nom": "Skikda", "stop_desk": 450, "domicile": 700 },
    { "code": 22, "nom": "Sidi Bel Abbès", "stop_desk": 450, "domicile": 700 },
    { "code": 23, "nom": "Annaba", "stop_desk": 450, "domicile": 700 },
    { "code": 24, "nom": "Guelma", "stop_desk": 450, "domicile": 800 },
    { "code": 25, "nom": "Constantine", "stop_desk": 450, "domicile": 700 },
    { "code": 26, "nom": "Médéa", "stop_desk": 450, "domicile": 600 },
    { "code": 27, "nom": "Mostaganem", "stop_desk": 450, "domicile": 700 },
    { "code": 28, "nom": "M'Sila", "stop_desk": 450, "domicile": 800 },
    { "code": 29, "nom": "Mascara", "stop_desk": 450, "domicile": 700 },
    { "code": 30, "nom": "Ouargla", "stop_desk": 600, "domicile": 900 },
    { "code": 31, "nom": "Oran", "stop_desk": 450, "domicile": 700 },
    { "code": 32, "nom": "El Bayadh", "stop_desk": 600, "domicile": 900 },
    { "code": 33, "nom": "Illizi", "stop_desk": 1000, "domicile": 1400 },
    { "code": 34, "nom": "Bordj Bou Arreridj", "stop_desk": 450, "domicile": 700 },
    { "code": 35, "nom": "Boumerdès", "stop_desk": 400, "domicile": 650 },
    { "code": 36, "nom": "El Tarf", "stop_desk": 450, "domicile": 800 },
    { "code": 37, "nom": "Tindouf", "stop_desk": 800, "domicile": 1200 },
    { "code": 38, "nom": "Tissemsilt", "stop_desk": 450, "domicile": 800 },
    { "code": 39, "nom": "El Oued", "stop_desk": 600, "domicile": 900 },
    { "code": 40, "nom": "Khenchela", "stop_desk": 450, "domicile": 800 },
    { "code": 41, "nom": "Souk Ahras", "stop_desk": 450, "domicile": 800 },
    { "code": 42, "nom": "Tipaza", "stop_desk": 400, "domicile": 500 },
    { "code": 43, "nom": "Mila", "stop_desk": 450, "domicile": 600 },
    { "code": 44, "nom": "Aïn Defla", "stop_desk": 450, "domicile": 600 },
    { "code": 45, "nom": "Naâma", "stop_desk": 600, "domicile": 900 },
    { "code": 46, "nom": "Aïn Témouchent", "stop_desk": 450, "domicile": 700 },
    { "code": 47, "nom": "Ghardaïa", "stop_desk": 600, "domicile": 950 },
    { "code": 48, "nom": "Relizane", "stop_desk": 450, "domicile": 700 },
    { "code": 49, "nom": "Timimoun", "stop_desk": 900, "domicile": 1200 },
    { "code": 51, "nom": "Ouled Djellal", "stop_desk": 600, "domicile": 900 },
    { "code": 52, "nom": "Beni Abbes", "stop_desk": 800, "domicile": 1200 },
    { "code": 53, "nom": "In Salah", "stop_desk": 800, "domicile": 1200 },
    { "code": 55, "nom": "Touggourt", "stop_desk": 600, "domicile": 900 },
    { "code": 57, "nom": "El M'Ghair", "stop_desk": 600, "domicile": 900 },
    { "code": 58, "nom": "El Meniaa", "stop_desk": 600, "domicile": 950 }
];

const merged = currentWilayas.map(w => {
    const update = updates.find(u => u.code === w.id);
    if (update) {
        return {
            ...w,
            homeDeliveryCost: update.domicile,
            officeDeliveryCost: update.stop_desk
        };
    }
    return w;
});

const output = `export const wilayasData = ${JSON.stringify(merged, null, 2)};`;
const targetPath = path.join(__dirname, '../src/prisma/data/wilayas.ts');
fs.writeFileSync(targetPath, output, 'utf8');
console.log('Updated wilayas.ts successfully');
